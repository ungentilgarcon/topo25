<template name="nodeInfo">
  <ul class="card-content collapsible" data-collapsible="expandable">
    <li>
      <span id="closeInfoBox"><i class="material-icons right">close</i></span>
      <p class="card-title activator grey-text text-darken-4">
            <i class="material-icons right">more_vert</i>
            <span class="editable-text-trigger">
              {{#if node.data.name }}
                {{> editableText context=node collection="nodes" field="data.name"}}
              {{ else }}
               <em>Click to add a title</em>
               {{> editableText context=node collection="nodes" field="data.name"}}
              {{/if}}
            </span>
      </p>
    </li>
    {{#if neighborhood.length }}
      <li>
        <div class="collapsible-header"><i class="material-icons">assessment</i>Partenaires</div>
        <ul class="collection collapsible-body">
          {{> pieChart dataCount=neighborhoodTypeCount}}
          {{#each neighborhoodTypeCount }}
              <li class="collection-item">{{this.group}}
                <svg data-category="{{this.name}}" height="10" width="10">
                  <circle cx="5" cy="5" r="5" fill="{{this.color}}" stroke-width="0"/>
                </svg>
                <span class="badge">{{this.count}}</span>
              </li>
          {{/each}}
        </ul>
      </li>
      <li>
        <div class="collapsible-header"><i class="material-icons">games</i>Neighborhood</div>
        <ul class="collection collapsible-body">
          {{#each neighborhood }}
              <li class="collection-item">{{this.group}}<span class="badge">{{this.name}}</span></li>
          {{/each}}
        </ul>
      </li>
    {{/if}}
    <li>
      <div class="collapsible-header"><i class="material-icons">view_list</i>Data</div>
      <ul class="collection collapsible-body">
        {{#each objectToPairs node.rawData }}
          {{#if value}}
            <li class="collection-item">{{key}} <span class="badge">{{value}}</span></li>
          {{/if}}
        {{/each}}
      </ul>
    </li>
  </ul>
</template>
