# Internationalization (react-intl v6)

This app has been upgraded to use react-intl v6 APIs while retaining the legacy messages shape kept in `i18n/en.json` and `i18n/fr.json`.

- Provider: `IntlProvider` is mounted in `imports/client/ui/components/App.jsx`.
- Messages loader: `imports/i18n.js` aggregates locales without `addLocaleData` (removed in v3+).
- Component usage: You can continue to use `injectIntl` in class components, or prefer hooks such as `useIntl` in functional components.

Extraction/merge pipeline
- Extract: `npm run i18n:extract` writes raw message descriptors to `.i18n/extracted/messages.json` using @formatjs/cli.
- Merge: `npm run i18n:merge` merges extracted IDs into `i18n/en.json` and `i18n/fr.json`, preserving existing translations.
- Update both: `npm run i18n:update`.

Notes
- The legacy extraction script `.scripts/extract-intl.js` remains for continuity but is superseded by the new @formatjs flow.
- If you add new messages via `defineMessages` or `<FormattedMessage>`, remember to run `npm run i18n:update`.
